<!DOCTYPE html>
<html>
<head>
<!-- Load the Paper.js library -->
<script type="text/javascript" src="raphael-min.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"
        type="text/javascript"></script>

</head>
<body>

	<div id="paper"></div>
    <script>

var height = $(document).height();
var width = $(document).width();


function piano() {
var paper = Raphael(0, 0, width, height);

  function getCoords(center, radius, angle) {
      var radians = (angle/180) * Math.PI;
      var x = center[0] + Math.cos(radians) * radius;
      var y = center[1] + Math.sin(radians) * radius;
      return [x, y];
  }

  function arc(center, radius, startAngle, endAngle) {
      angle = startAngle;
      coords = getCoords(center, radius, angle);
      path = "M " + coords[0] + " " + coords[1];
      while(angle<=endAngle) {
          coords = getCoords(center, radius, angle);
          path += " L " + coords[0] + " " + coords[1];
          angle += 1;
      }
      return path;
  }





  var notes =
[ {"layer":"1","radius":100,"xvalue":0,"yvalue":30,"color":"#FDFD62","key":"65","note":"1c","opacity":1},
{"layer":"1","radius":100,"xvalue":30,"yvalue":60,"color":"#CFE958","key":"83","note":"1cs","opacity":1},
{"layer":"1","radius":100,"xvalue":60,"yvalue":90,"color":"#64B049","key":"68","note":"1d","opacity":1},
{"layer":"1","radius":100,"xvalue":90,"yvalue":120,"color":"#0793C9","key":"70","note":"1ds","opacity":1},
{"layer":"1","radius":100,"xvalue":120,"yvalue":150,"color":"#154BF4","key":"71","note":"1e","opacity":1},
{"layer":"1","radius":100,"xvalue":150,"yvalue":180,"color":"#3F099D","key":"72","note":"1f","opacity":1},
{"layer":"1","radius":100,"xvalue":180,"yvalue":210,"color":"#8707A8","key":"74","note":"1fs","opacity":1},
{"layer":"1","radius":100,"xvalue":210,"yvalue":240,"color":"#A7174A","key":"75","note":"1g","opacity":1},
{"layer":"1","radius":100,"xvalue":240,"yvalue":270,"color":"#FE2224","key":"76","note":"1gs","opacity":1},
{"layer":"1","radius":100,"xvalue":270,"yvalue":300,"color":"#FD5126","key":"186","note":"1a","opacity":1},
{"layer":"1","radius":100,"xvalue":300,"yvalue":330,"color":"#FB9836","key":"222","note":"1as","opacity":1},
{"layer":"1","radius":100,"xvalue":330,"yvalue":360,"color":"#FABB41","key":"13","note":"1b","opacity":1},
{"layer":"1","radius":200,"xvalue":0,"yvalue":30,"color":"#FDFD62","key":"81","note":"2c","opacity":0.6},
{"layer":"2","radius":200,"xvalue":30,"yvalue":60,"color":"#CFE958","key":"87","note":"2cs","opacity":0.6},
{"layer":"2","radius":200,"xvalue":60,"yvalue":90,"color":"#64B049","key":"69","note":"2d","opacity":0.6},
{"layer":"2","radius":200,"xvalue":90,"yvalue":120,"color":"#0793C9","key":"82","note":"2ds","opacity":0.6},
{"layer":"2","radius":200,"xvalue":120,"yvalue":150,"color":"#154BF4","key":"84","note":"2e","opacity":0.6},
{"layer":"2","radius":200,"xvalue":150,"yvalue":180,"color":"#3F099D","key":"89","note":"2f","opacity":0.6},
{"layer":"2","radius":200,"xvalue":180,"yvalue":210,"color":"#8707A8","key":"85","note":"2fs","opacity":0.6},
{"layer":"2","radius":200,"xvalue":210,"yvalue":240,"color":"#A7174A","key":"73","note":"2g","opacity":0.6},
{"layer":"2","radius":200,"xvalue":240,"yvalue":270,"color":"#FE2224","key":"79","note":"2gs","opacity":0.6},
{"layer":"2","radius":200,"xvalue":270,"yvalue":300,"color":"#FD5126","key":"80","note":"2a","opacity":0.6},
{"layer":"2","radius":200,"xvalue":300,"yvalue":330,"color":"#FB9836","key":"219","note":"2as","opacity":0.6},
{"layer":"2","radius":200,"xvalue":330,"yvalue":360,"color":"#FABB41","key":"221","note":"2b","opacity":0.6},
{"layer":"3","radius":300,"xvalue":0,"yvalue":30,"color":"#FDFD62","key":"49","note":"3c","opacity":0.3},
{"layer":"3","radius":300,"xvalue":30,"yvalue":60,"color":"#CFE958","key":"50","note":"3cs","opacity":0.3},
{"layer":"3","radius":300,"xvalue":60,"yvalue":90,"color":"#64B049","key":"51","note":"3d","opacity":0.3},
{"layer":"3","radius":300,"xvalue":90,"yvalue":120,"color":"#0793C9","key":"52","note":"3ds","opacity":0.3},
{"layer":"3","radius":300,"xvalue":120,"yvalue":150,"color":"#154BF4","key":"53","note":"3e","opacity":0.3},
{"layer":"3","radius":300,"xvalue":150,"yvalue":180,"color":"#3F099D","key":"54","note":"3f","opacity":0.3},
{"layer":"3","radius":300,"xvalue":180,"yvalue":210,"color":"#8707A8","key":"55","note":"3fs","opacity":0.3},
{"layer":"3","radius":300,"xvalue":210,"yvalue":240,"color":"#A7174A","key":"56","note":"3g","opacity":0.3},
{"layer":"3","radius":300,"xvalue":240,"yvalue":270,"color":"#FE2224","key":"57","note":"3gs","opacity":0.3},
{"layer":"3","radius":300,"xvalue":270,"yvalue":300,"color":"#FD5126","key":"48","note":"3a","opacity":0.3},
{"layer":"3","radius":300,"xvalue":300,"yvalue":330,"color":"#FB9836","key":"189","note":"3as","opacity":0.3},
{"layer":"3","radius":300,"xvalue":330,"yvalue":360,"color":"#FABB41","key":"187","note":"3b","opacity":0.3}];

var note = new Array();
for (var i = 0; i < notes.length; i++) {
  note[i] = paper.path(arc([width/2, height/2], notes[i].radius, notes[i].xvalue, notes[i].yvalue));
  note[i].attr("stroke-width", "75");
  note[i].attr("stroke", notes[i]['color']);
  note[i].attr("opacity", notes[i]['opacity']);

};

var test = new Array();
// for (var i = 0; i < notes.length / 3; i++) {
//   test[i] = paper.path(arc([width/2, height/2], 10, notes[i].xvalue + 10, notes[i].yvalue - 10));
//   test[i].attr("stroke-width", "455");
//   test[i].attr("stroke", "#666666");
//   test[i].attr("opacity", 1);

// };




$( document ).keydown(function(event) {
  
console.log( "Handler for .keypress() called." );
// note[0].attr("opacity", "0");
var keys = (event.keyCode ? event.keyCode : event.which);
for (var i = 0; i < notes.length; i++) {
  if (keys == notes[i].key) {
      note[i].attr("opacity", 0);
  }
}

});

$( document ).keyup(function() {
  
console.log( "Handler for .keypress() called." );

var keys = (event.keyCode ? event.keyCode : event.which);
for (var i = 0; i < notes.length; i++) {
  if (keys == notes[i].key) {
      note[i].attr("opacity", notes[i].opacity);
  }
}


});


};

var piano = piano();


   
   </script>
</body>
</html>